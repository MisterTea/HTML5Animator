// Auto-generated from html5animator.html.
// DO NOT EDIT.

library html5animator;

import 'dart:html' as autogenerated;
import 'dart:svg' as autogenerated_svg;
import 'package:web_ui/web_ui.dart' as autogenerated;
import 'package:web_ui/observe/observable.dart' as __observe;
import 'dart:html';
import 'dart:math' as Math;
import 'dart:json' as JSON;
import 'package:web_ui/web_ui.dart';
import 'package:web_ui/watcher.dart' as watchers;
import 'package:js/js.dart' as js;
part '../tween.dart';
part '../palette.dart';


// Original code


class Point {
  num x;
  num y;
  
  Point(num x, num y) {
    this.x = x;
    this.y = y;
  }
}

class Renderable {
  String fabricJson;
  num keyFrame;
  String easeAfter = "linear";
  bool destroy = false;
}

class Actor {
  String id;
  
  List<Renderable> keyFrames = [];
}

class Layer {
  String id;
  bool visible = false;
  bool locked = false;
  List<Actor> actors = [];
  
  Layer() {
  }
}

class Movie {
  String id;
  String name;
  String musicId;
  List<Layer> layers;
  num frameMs;
  Point size;
  
  Movie() {
    id = "movie1";
    name = "My Movie";
    musicId = null;
    layers = [];
    frameMs = 100;
    size = new Point(640,360);
  }
}
Movie movie = new Movie();

class MovieState {
  num frame = 0;
  num maxFrames = 100;
  var canvas = null;
  var objectIdMap = new Map();
  num padding = 100;
  var guidelines = null;
  String selectedObjectId = "";
  
  MovieState() {
  }
}
MovieState movieState = new MovieState();
String currentTime;

/**
 * Learn about the Web UI package by visiting
 * http://www.dartlang.org/articles/dart-web-components/.
 */
void main() {
  js.scoped(() {
  window.console.debug('LOG');
  // Enable this to use Shadow DOM in the browser.
  //useShadowDom = true;
  
  /*
  var div = document.query('#content');
  HttpRequest.getString("partials/edit.html").then(
      (responseText) {
    div.children.add(new Element.html(responseText));
    watchers.dispatch();
  });
  */
  
  currentTime = "asdfasdf";
  window.console.debug(currentTime);
  
  initPalette();
  });
  updateAnimation();
}

// Additional generated code
void init_autogenerated() {
  var _root = autogenerated.document.body;
  var __e1, __e3, __e4, __e5, __e7;
  var __t = new autogenerated.Template(_root);
  __e1 = _root.query('#__e-1');
  var __binding0 = __t.contentBind(() => movieState.selectedObjectId, false);
  __e1.nodes.addAll([new autogenerated.Text('EDITING '),
      __binding0]);
  __e3 = _root.query('#__e-3');
  var __binding2 = __t.contentBind(() => movieState.frame, false);
  __e3.nodes.addAll([new autogenerated.Text('ON FRAME '),
      __binding2]);
  __e4 = _root.query('#__e-4');
  __t.listen(__e4.onClick, ($event) { prevFrame(); });
  __e5 = _root.query('#__e-5');
  __t.listen(__e5.onClick, ($event) { nextFrame(); });
  __e7 = _root.query('#__e-7');
  var __binding6 = __t.contentBind(() => currentTime, false);
  __e7.nodes.addAll([new autogenerated.Text('\n      The current time is: '),
      __binding6,
      new autogenerated.Text('\n    ')]);
  __t.create();
  __t.insert();
}

//@ sourceMappingURL=html5animator.dart.map